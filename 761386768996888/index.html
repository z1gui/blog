<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport">
  <meta name="robots" content="index, follow">
  <!-- title -->
  
    
  <title>「持续更新」AI辅助编程使用心得 - 子规入梧桐</title>
    
  
  
  <!-- open graph -->
  <meta name="description" content="前言2025 年初，Deepseek 爆火。随之而来，就是各种 AI 相关的技术如同雨后春笋般涌现。其中关于 AI 编程方向，各家大厂各显神通。 早在 2024 年初，我就开始接触 AI 编程，一开始就使用了 Cursor。当我熟悉了它的操作之后，惊叹于它输出代码的质量。随后，我向身边朋友，同事极力推荐 Cursor。 本质上，Cursor 是一个集成 AI 能力的 VS Code 编辑器。尽管后">
<meta property="og:type" content="article">
<meta property="og:title" content="「持续更新」AI辅助编程使用心得">
<meta property="og:url" content="https://www.lazydaily.cn/761386768996888/index.html">
<meta property="og:site_name" content="子规入梧桐">
<meta property="og:description" content="前言2025 年初，Deepseek 爆火。随之而来，就是各种 AI 相关的技术如同雨后春笋般涌现。其中关于 AI 编程方向，各家大厂各显神通。 早在 2024 年初，我就开始接触 AI 编程，一开始就使用了 Cursor。当我熟悉了它的操作之后，惊叹于它输出代码的质量。随后，我向身边朋友，同事极力推荐 Cursor。 本质上，Cursor 是一个集成 AI 能力的 VS Code 编辑器。尽管后">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.lazydaily.cn/img/Pastedimage20250514161308.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/Pastedimage20250520090726.png">
<meta property="article:published_time" content="2025-05-12T16:00:00.000Z">
<meta property="article:modified_time" content="2025-05-20T07:21:06.990Z">
<meta property="article:author" content="z1gui">
<meta property="article:tag" content="Cursor">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.lazydaily.cn/img/Pastedimage20250514161308.png">
  <!-- canonical -->
  
  <link rel="canonical" href="https://www.lazydaily.cn/761386768996888/">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="/img/favicon.png">
  <!-- CSS -->
  
<link rel="stylesheet" href="/css/reset.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/markdown.css">

  
<link rel="stylesheet" href="/css/fonts.css">

  
<link rel="stylesheet" href="/css/a11y-dark.min.css">

  
<script src="/js/toc.js"></script>

  

  
  <!-- 图片懒加载 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 只选择markdown文档中的懒加载图片
      const lazyImages = document.querySelectorAll('.post-md .lazy-image');
      
      if (lazyImages.length === 0) return;
      
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            const spinner = img.previousElementSibling;
            
            // 加载图片
            img.src = img.dataset.src;
            
            // 图片加载完成后的处理
            img.addEventListener('load', function() {
              img.classList.add('loaded');
              if (spinner && spinner.classList.contains('image-loading-spinner')) {
                spinner.classList.add('hidden');
              }
            });
            
            // 图片加载失败的处理
            img.addEventListener('error', function() {
              if (spinner && spinner.classList.contains('image-loading-spinner')) {
                spinner.classList.add('hidden');
              }
              console.error('图片加载失败:', img.dataset.src);
            });
            
            // 停止观察这个图片
            observer.unobserve(img);
          }
        });
      }, {
        rootMargin: '50px 0px', // 提前50px开始加载
        threshold: 0.01
      });
      
      // 开始观察所有懒加载图片
      lazyImages.forEach(img => {
        imageObserver.observe(img);
      });
    });
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="子规入梧桐" type="application/atom+xml">
</head>

    <body>
        <!-- 固定工具栏 -->
        <div class="fixed-toolbar">
        </div>
        
        <div class="paper">
            <div class="paper-main">
                <div class="header">
    <div class="header-content">
        <!-- 头像和主标题一起可点击 -->
        <a href="/" class="header-home-link">
            <div class="hero-header">
                <div class="hero-header-visual">
                    <div class="hero-header-graphic">
                        <img src="/img/favicon.png" alt="Logo" width="30" height="30">
                    </div>
                </div>
                <div class="hero-header-text">
                    <h1 class="hero-header-title">子规入梧桐</h1>
                </div>
            </div>
        </a>
        <!-- 导航栏 -->
        <ul class="nav">
            
            <li>
                
                <a href="/" class="">
                   主页
                   
                </a>
            </li>
            
            <li>
                
                <a href="/archives" class="">
                   归档
                   
                </a>
            </li>
            
            <li>
                
                <a href="/about" class="">
                   关于
                   
                </a>
            </li>
            
            <li>
                
                <a href="/use" class="">
                   设备
                   
                </a>
            </li>
            
            <li>
                
                <a href="https://uhufoundme.sol.build/" class="" target="&quot;_blank&quot;" rel="&quot;noopener" noreferrer&#34;="">
                   碎碎念
                   
                   <span class="external-link-icon">🔗</span>
                   
                </a>
            </li>
            
        </ul>
    </div>
</div>

                <div class="post-main">
    <!-- 阅读进度条 -->
    <div class="reading-progress-bar" id="readingProgressBar"></div>
    
    
        <div class="post-main-title">
            「持续更新」AI辅助编程使用心得
        </div>
        <div class="post-meta">
            2025-05-13 ｜ 
            
                <a href="/tags/Cursor/"># Cursor</a>
            
        </div>

        <div class="post-content-wrapper">
            <div class="post-content-main">
                <div class="post-md">
                    <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>2025 年初，Deepseek 爆火。随之而来，就是各种 AI 相关的技术如同雨后春笋般涌现。其中关于 AI 编程方向，各家大厂各显神通。</p>
<p>早在 2024 年初，我就开始接触 AI 编程，一开始就使用了 Cursor。当我熟悉了它的操作之后，惊叹于它输出代码的质量。随后，我向身边朋友，同事极力推荐 Cursor。</p>
<p>本质上，Cursor 是一个集成 AI 能力的 VS Code 编辑器。尽管后来尝试各个大厂的不同的 AI 编程工具，例如：通义灵码，Windsurf，Trae 等，甚至自己搭建平台调用 Deepseek Api 完成编程辅助工作，但坦言来讲，体验都不如 Cursor。</p>
<h2 id="Cursor-收费模式"><a href="#Cursor-收费模式" class="headerlink" title="Cursor 收费模式"></a>Cursor 收费模式</h2><p>当然，Cursor 并不是免费的。它的收费方式是订阅制，订阅价格在 $20 / 月。其中包含 500 次快请求，以及不限次数的慢请求。说实话，每月 140 块钱确实让人望而却步。</p>
<p><div class="image-loading-spinner"></div><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Cursor收费模式" data-src="/img/Pastedimage20250514161308.png" loading="lazy" class="lazy-image"></p>
<p>Cursor 相对新用户还是有很好的政策。新用户首月 14 天 150 次快请求，次月及以后每月 50 次快请求，用完就不能再使用了。理论上有足够多的账号，也可以白嫖。在没有教育优惠前，我就是用两个账号的试用和免费请求体验了 cursor 的绝大数功能。</p>
<blockquote>
<p>个人使用来说，我一般使用 cursor 调整前端样式，或者解决前端报错问题。或者直接需求文档丢给 cursor 让他给我生成前端文件。50 次请求大概能完成 2~3 个复杂功能页面的开发。</p>
</blockquote>
<h2 id="Cursor-教育优惠"><a href="#Cursor-教育优惠" class="headerlink" title="Cursor 教育优惠"></a>Cursor 教育优惠</h2><p>2025 年 5 月 8 号上午，cursor 开放教育优惠。凭借学生身份可以申请为期 1 年的 pro 会员。但是因为中国用户申请过多，在当天下午取消 CN 节点。目前可以用国外 edu 邮箱+学生信息验证，推荐咸鱼，一般来说 ￥100~200 不等可以搞定成品号。</p>
<p>目前，我使用的就是 Cursor 教育优惠。在咸鱼上搜 Cursor 教育优惠，用￥120 购买一个 <a target="_blank" rel="noopener" href="http://www.sjsu.edu/">SAN&nbsp;JOSÉ&nbsp;STATE&nbsp;UNIVERSITY</a> 的 edu 邮箱和绑定信息。操作相对简单，只需要绑定登录邮箱，申请 Cursor 教育优惠认证即可（过程中可能需要绑定支付宝 0 元订阅，订阅成功之后可直接取消订阅，不影响当前订阅）。如果后续还有学生认证，可以转发 edu 邮箱到自己常用邮箱，这样就不会错过认证邮件。</p>
<blockquote>
<p>2025-5-20：订阅时间从 2025 年 5 月 12 号到 2026 年 5 月 12 号，当前使用无问题，后续有问题补充</p>
</blockquote>
<p><div class="image-loading-spinner"></div><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Pro会员状态" data-src="/img/Pastedimage20250520090726.png" loading="lazy" class="lazy-image"></p>
<p>目前来说，500 次快请求基本满足个人高强度使用的要求。</p>

                </div>
            </div>
            <div class="post-content-sidebar">
                <div class="toc-toggle-btn" id="tocToggleBtn" title="显示目录">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </div>
                <div class="post-toc" id="postToc">
                    <div class="toc-header">
                        <div class="toc-title">目录</div>
                    </div>
                    <div class="toc-content"></div>
                </div>
            </div>
        </div>
    

<!-- 只在文章页面显示分类和导航 -->

    <!-- 分类信息 -->
    
        <div class="post-categories">
            分类：
            
                <a href="/categories/AI/"> / AI</a>
            
        </div>
    

    <!-- 分享按钮 -->
    <div class="post-share">
        <button class="share-btn" id="shareBtn" title="分享文章">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 5.12548 15.0077 5.24917 15.0227 5.37061L8.08264 9.26727C7.54305 8.48822 6.60487 8 5.5 8C4.11929 8 3 9.11929 3 10.5C3 11.8807 4.11929 13 5.5 13C6.60487 13 7.54305 12.5118 8.08264 11.7327L15.0227 15.6294C15.0077 15.7508 15 15.8745 15 16C15 17.6569 16.3431 19 18 19C19.6569 19 21 17.6569 21 16C21 14.3431 19.6569 13 18 13C16.8951 13 15.9569 13.4882 15.4174 14.2673L8.47736 10.3706C8.49232 10.2492 8.5 10.1255 8.5 10C8.5 9.87452 8.49232 9.75083 8.47736 9.62939L15.4174 5.73273C15.9569 6.51178 16.8951 7 18 7C19.6569 7 21 5.65685 21 4C21 2.34315 19.6569 1 18 1C16.3431 1 15 2.34315 15 4C15 4.12548 15.0077 4.24917 15.0227 4.37061L8.08264 8.26727C7.54305 7.48822 6.60487 7 5.5 7C3.567 7 2 8.567 2 10.5C2 12.433 3.567 14 5.5 14C6.60487 14 7.54305 13.5118 8.08264 12.7327L15.0227 16.6294C15.0077 16.7508 15 16.8745 15 17C15 18.6569 16.3431 20 18 20C19.6569 20 21 18.6569 21 17C21 15.3431 19.6569 14 18 14C16.8951 14 15.9569 14.4882 15.4174 15.2673L8.47736 11.3706C8.49232 11.2492 8.5 11.1255 8.5 11C8.5 10.8745 8.49232 10.7508 8.47736 10.6294L15.4174 6.73273C15.9569 7.51178 16.8951 8 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            分享
        </button>
    </div>

    <!-- 添加上一篇和下一篇导航 -->
    <div class="post-navigation">
        <div class="post-nav-prev">
            
                <span class="nav-label">上一篇</span>
                <a href="/6885322357796359/" class="nav-title">Planet配置Web3域名</a>
            
        </div>
        <div class="post-nav-next">
            
                <span class="nav-label">下一篇</span>
                <a href="/761386768996832/" class="nav-title">为什么一定要有一个个人网站？</a>
            
        </div>
    </div>

</div>

<!-- 图片全屏显示模态框 -->
<div class="image-modal" id="imageModal">
    <img id="modalImage" src="" alt="全屏图片">
</div>

<!-- 代码全屏显示模态框 -->
<div class="code-modal" id="codeModal">
    <div class="code-modal-content">
        <div class="code-modal-header">
            <div class="code-modal-title">代码查看</div>
            <div class="code-modal-close" id="codeModalClose">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
        <div class="code-modal-code">
            <pre><code id="modalCode"></code></pre>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const postImages = document.querySelectorAll('.post-md img');

    // 点击图片打开模态框
    postImages.forEach(img => {
        // 检查图片是否在社交链接中
        const isSocialIcon = img.closest('.social-links') !== null;
        if (!isSocialIcon) {
            img.addEventListener('click', function() {
                modal.classList.add('active');
                modalImg.src = this.src;
                document.body.style.overflow = 'hidden'; // 防止背景滚动
            });
        }
    });

    // 点击模态框关闭
    modal.addEventListener('click', function() {
        modal.classList.remove('active');
        document.body.style.overflow = ''; // 恢复背景滚动
    });

    // 按 ESC 键关闭模态框
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
    });

    // 阅读进度条功能
    const progressBar = document.getElementById('readingProgressBar');
    if (progressBar) {
        function updateReadingProgress() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            
            // 限制进度条宽度在0-100%之间
            const progressWidth = Math.min(Math.max(scrollPercent, 0), 100);
            progressBar.style.width = progressWidth + '%';
        }

        // 监听滚动事件
        window.addEventListener('scroll', updateReadingProgress);
        
        // 页面加载时初始化进度条
        updateReadingProgress();
    }



    // 目录功能已移至工具栏统一管理

    // 代码块全屏功能
    const codeModal = document.getElementById('codeModal');
    const modalCode = document.getElementById('modalCode');
    const codeModalClose = document.getElementById('codeModalClose');

    // 为所有代码块添加全屏按钮
    const codeBlocks = document.querySelectorAll('.post-md pre');
    codeBlocks.forEach(pre => {
        // 检查是否已经有按钮（避免重复添加）
        if (!pre.querySelector('.code-fullscreen-btn')) {
            const fullscreenBtn = document.createElement('div');
            fullscreenBtn.className = 'code-fullscreen-btn';
            fullscreenBtn.innerHTML = `
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            `;
            fullscreenBtn.title = '全屏查看代码';
            
            // 点击按钮显示全屏代码
            fullscreenBtn.addEventListener('click', function() {
                const codeElement = pre.querySelector('code');
                if (codeElement) {
                    // 检查是否是已经应用了行号的代码块
                    const hljsTable = pre.querySelector('table.hljs-ln');
                    
                    let codeContent;
                    let startLineNumber = 1;
                    
                    if (hljsTable) {
                        // 如果有行号表格，提取纯代码内容和起始行号
                        const codeLines = hljsTable.querySelectorAll('.hljs-ln-code');
                        codeContent = Array.from(codeLines).map(line => {
                            // 提取每行的文本内容，保持原始格式
                            return line.textContent || line.innerText || ' ';
                        }).join('\n');
                        
                        // 获取起始行号
                        const firstNumberCell = hljsTable.querySelector('.hljs-ln-numbers');
                        if (firstNumberCell) {
                            const lineAttr = firstNumberCell.getAttribute('data-line-number');
                            if (lineAttr) {
                                startLineNumber = parseInt(lineAttr) || 1;
                            }
                        }
                    } else {
                        // 普通代码块，直接获取文本内容
                        codeContent = codeElement.textContent || codeElement.innerText;
                    }
                    
                    const codeLanguage = getCodeLanguage(codeElement);
                    
                    // 设置模态框中的代码内容
                    modalCode.textContent = codeContent;
                    modalCode.className = codeElement.className; // 保持代码高亮的类名
                    
                    // 如果原代码有自定义起始行号，设置data属性
                    if (startLineNumber !== 1) {
                        modalCode.setAttribute('data-ln-start-from', startLineNumber);
                    } else {
                        modalCode.removeAttribute('data-ln-start-from');
                    }
                    
                    // 更新标题
                    const modalTitle = document.querySelector('.code-modal-title');
                    if (codeLanguage) {
                        modalTitle.textContent = `代码查看 - ${codeLanguage}`;
                    } else {
                        modalTitle.textContent = '代码查看';
                    }
                    
                    // 显示模态框
                    codeModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    
                    // 重新应用代码高亮和行号
                    if (typeof hljs !== 'undefined') {
                        hljs.highlightElement(modalCode);
                        
                        // 应用行号
                        if (typeof hljs.lineNumbersBlock !== 'undefined') {
                            hljs.lineNumbersBlock(modalCode, {
                                startFrom: startLineNumber
                            });
                        }
                    }
                }
            });
            
            pre.appendChild(fullscreenBtn);
        }
    });

    // 获取代码语言
    function getCodeLanguage(codeElement) {
        const className = codeElement.className;
        const languageMatch = className.match(/language-(\w+)|hljs-(\w+)|\b(\w+)$/);
        if (languageMatch) {
            return languageMatch[1] || languageMatch[2] || languageMatch[3];
        }
        return '';
    }

    // 关闭代码全屏模态框
    function closeCodeModal() {
        codeModal.classList.remove('active');
        document.body.style.overflow = '';
    }

    // 点击关闭按钮
    if (codeModalClose) {
        codeModalClose.addEventListener('click', closeCodeModal);
    }

    // 点击模态框背景关闭（点击内容区域不关闭）
    codeModal.addEventListener('click', function(e) {
        if (e.target === codeModal) {
            closeCodeModal();
        }
    });

    // 按 ESC 键关闭代码模态框
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            if (codeModal.classList.contains('active')) {
                closeCodeModal();
            }
        }
    });

    // 分享功能
    const shareBtn = document.getElementById('shareBtn');
    if (shareBtn) {
        shareBtn.addEventListener('click', function() {
            // 获取文章信息
            const title = document.querySelector('.post-main-title')?.textContent?.trim() || '未知标题';
            const date = document.querySelector('.post-meta')?.textContent?.match(/\d{4}-\d{2}-\d{2}/)?.[0] || '';
            const url = window.location.href;
            
            // 获取文章前几行内容（排除标题、元信息等）
            const postContent = document.querySelector('.post-md');
            let content = '';
            if (postContent) {
                // 获取所有段落和文本内容
                const paragraphs = postContent.querySelectorAll('p, h1, h2, h3, h4, h5, h6');
                const contentArray = [];
                
                for (let i = 0; i < Math.min(paragraphs.length, 3); i++) {
                    const text = paragraphs[i].textContent?.trim();
                    if (text && text.length > 0) {
                        contentArray.push(text);
                    }
                }
                
                content = contentArray.join('\n\n');
                
                // 如果内容太长，截取前100个字符
                if (content.length > 100) {
                    content = content.substring(0, 100) + '...';
                }
            }
            
            // 构建分享内容
            let shareText = `文章标题： ${title}`;
            if (date) {
                shareText += `\n发布时间： ${date}`;
            }
            if (content) {
                shareText += `\n\n${content}`;
            }
            shareText += `\n\n🔗 ${url}`;
            
            // 复制到剪贴板
            if (navigator.clipboard && window.isSecureContext) {
                // 使用现代 Clipboard API
                navigator.clipboard.writeText(shareText).then(function() {
                    showShareSuccess();
                }).catch(function(err) {
                    console.error('复制失败:', err);
                    fallbackCopyTextToClipboard(shareText);
                });
            } else {
                // 降级方案
                fallbackCopyTextToClipboard(shareText);
            }
        });
    }
    
    // 显示分享成功提示
    function showShareSuccess() {
        const shareBtn = document.getElementById('shareBtn');
        if (shareBtn) {
            const originalText = shareBtn.innerHTML;
            shareBtn.innerHTML = `
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                已复制
            `;
            shareBtn.classList.add('copied');
            
            setTimeout(function() {
                shareBtn.innerHTML = originalText;
                shareBtn.classList.remove('copied');
            }, 2000);
        }
    }
    
    // 降级复制方案
    function fallbackCopyTextToClipboard(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.top = '0';
        textArea.style.left = '0';
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showShareSuccess();
            } else {
                alert('复制失败，请手动复制以下内容：\n\n' + text);
            }
        } catch (err) {
            console.error('复制失败:', err);
            alert('复制失败，请手动复制以下内容：\n\n' + text);
        }
        
        document.body.removeChild(textArea);
    }
});
</script>
                
            </div>
        </div>

        <!-- JavaScript -->
        
<script src="/js/highlight.min.js"></script>

        
<script src="/js/highlightjs-line-numbers.js"></script>

        <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化代码高亮
            hljs.highlightAll();
            hljs.initLineNumbersOnLoad();
            
            const html = document.documentElement;
            const header = document.querySelector('.header');
            
            // 头部内容滚动显示/隐藏功能
            let lastScrollTop = 0;
            let scrollThreshold = 3; // 滚动阈值，避免微小滚动触发
            
            function handleHeaderScroll() {
                if (!header) return;
                
                const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // 计算滚动距离
                const scrollDifference = currentScrollTop - lastScrollTop;
                
                // 向下滚动隐藏
                if (scrollDifference > scrollThreshold && currentScrollTop > 30) {
                    header.classList.add('hidden');
                }
                // 向上滚动显示
                else if (scrollDifference < -scrollThreshold) {
                    header.classList.remove('hidden');
                }
                // 在页面顶部时显示
                else if (currentScrollTop <= 30) {
                    header.classList.remove('hidden');
                }
                
                lastScrollTop = currentScrollTop;
            }
            
            // 监听滚动事件
            window.addEventListener('scroll', handleHeaderScroll, { passive: true });
            
            // 页面加载时显示头部内容
            if (header) {
                header.classList.remove('hidden');
            }
            
            // 目录切换按钮功能（仅在文章页面）
            const tocToggleBtn = document.getElementById('tocToggleBtn');
            if (tocToggleBtn) {
                const postToc = document.getElementById('postToc');
                
                // 从localStorage获取目录状态
                const tocHidden = localStorage.getItem('tocHidden') === 'true';
                if (tocHidden && postToc) {
                    postToc.classList.add('hidden');
                    tocToggleBtn.classList.add('hidden');
                }
                
                // 点击切换目录显示/隐藏
                tocToggleBtn.addEventListener('click', function() {
                    if (postToc) {
                        const isHidden = postToc.classList.contains('hidden');
                        if (isHidden) {
                            postToc.classList.remove('hidden');
                            this.classList.remove('hidden');
                            localStorage.setItem('tocHidden', 'false');
                        } else {
                            postToc.classList.add('hidden');
                            this.classList.add('hidden');
                            localStorage.setItem('tocHidden', 'true');
                        }
                    }
                });
            }
        });
        </script>
    
</body></html>