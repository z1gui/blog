<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport">
  <meta name="robots" content="index, follow">
  <!-- title -->
  
    
  <title>晋城游记 - 子规入梧桐</title>
    
  
  
  <!-- open graph -->
  <meta name="description" content="该篇游记仅记录玉皇庙、关帝庙、晋城博物馆以及原本博物馆相关内容，偏向历史爱好者。  起因是 Amelia 在小红书上看到，郑州去山西晋城的大巴来回免费，且 2.5~3 小时就能到。所以我们就打算当天去，当天回。 买票和预约车票可以直接在微信公众号上买，郑州去晋城在豫州行微信公众号上买，晋城回郑州则在大美太行晋城游。郑州有多个客运站都可以到晋城，如果家附近的客运站没票，可以切换别的客运站试试。同理">
<meta property="og:type" content="article">
<meta property="og:title" content="晋城游记">
<meta property="og:url" content="https://www.lazydaily.cn/712386768996883/index.html">
<meta property="og:site_name" content="子规入梧桐">
<meta property="og:description" content="该篇游记仅记录玉皇庙、关帝庙、晋城博物馆以及原本博物馆相关内容，偏向历史爱好者。  起因是 Amelia 在小红书上看到，郑州去山西晋城的大巴来回免费，且 2.5~3 小时就能到。所以我们就打算当天去，当天回。 买票和预约车票可以直接在微信公众号上买，郑州去晋城在豫州行微信公众号上买，晋城回郑州则在大美太行晋城游。郑州有多个客运站都可以到晋城，如果家附近的客运站没票，可以切换别的客运站试试。同理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4594.JPG">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4788.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4808.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4790.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/%E6%9F%B1%E5%AD%90.jpg">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4815.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4810.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4809.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4811.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4807.png">
<meta property="og:image" content="https://www.lazydaily.cn/img/IMG_4794.png">
<meta property="article:published_time" content="2025-08-30T16:00:00.000Z">
<meta property="article:modified_time" content="2025-09-01T02:02:22.610Z">
<meta property="article:author" content="z1gui">
<meta property="article:tag" content="游记">
<meta property="article:tag" content="郑州">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.lazydaily.cn/img/IMG_4594.JPG">
  <!-- canonical -->
  
  <link rel="canonical" href="https://www.lazydaily.cn/712386768996883/">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="/img/favicon.png">
  
  <!-- Google Fonts 预加载 - 优化字体加载 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  
  <!-- 预加载所有字体 -->
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;1,400&amp;family=Noto+Serif:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&amp;family=Noto+Serif+SC:wght@400;700;900&amp;display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;1,400&amp;family=Noto+Serif:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&amp;family=Noto+Serif+SC:wght@400;700;900&amp;display=swap">
  
  <!-- 字体加载优化脚本 -->
  <script>
    // 字体加载优化
    (function() {
      // 检查是否支持Font Loading API
      if ('fonts' in document) {
        // 异步加载字体，不阻塞页面渲染
        setTimeout(function() {
          Promise.all([
            document.fonts.load('400 1em "JetBrains Mono"'),
            document.fonts.load('400 1em "Noto Serif"'),
            document.fonts.load('400 1em "Noto Serif SC"')
          ]).then(function() {
            document.documentElement.classList.add('fonts-loaded');
          }).catch(function() {
            document.documentElement.classList.add('fonts-fallback');
          });
        }, 0);
      } else {
        // 不支持Font Loading API的浏览器，直接使用系统字体
        document.documentElement.classList.add('fonts-fallback');
      }
    })();
  </script>
  
  <!-- CSS -->
  
<link rel="stylesheet" href="/css/reset.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/markdown.css">

  
<link rel="stylesheet" href="/css/fonts.css">

  
<link rel="stylesheet" href="/css/a11y-dark.min.css">

  
  <!-- 图片懒加载 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 预加载队列
      const preloadQueue = [];
      let isProcessing = false;
      let processedImages = new Set();
      
      // 创建loading效果
      function createLoadingEffect(img) {
        // 检查是否已经有容器
        let container = img.parentElement;
        if (!container || !container.classList.contains('image-container')) {
          // 创建图片容器
          container = document.createElement('div');
          container.className = 'image-container loading';
          
          // 将图片包装在容器中
          img.parentNode.insertBefore(container, img);
          container.appendChild(img);
        } else {
          // 如果已有容器，添加loading类
          container.classList.add('loading');
        }
        
        return container;
      }
      
      // 移除loading效果
      function removeLoadingEffect(container) {
        if (container && container.classList.contains('loading')) {
          container.classList.remove('loading');
        }
      }
      
      // 处理预加载队列
      function processPreloadQueue() {
        if (isProcessing || preloadQueue.length === 0) return;
        
        isProcessing = true;
        const img = preloadQueue.shift();
        
        if (img && img.dataset.src && !processedImages.has(img)) {
          processedImages.add(img);
          
          // 添加loading效果
          const container = createLoadingEffect(img);
          
          img.src = img.dataset.src;
          
          img.addEventListener('load', function() {
            img.classList.add('loaded');
            removeLoadingEffect(container);
            isProcessing = false;
            // 继续处理队列中的下一张图片
            setTimeout(processPreloadQueue, 10);
          });
          
          img.addEventListener('error', function() {
            removeLoadingEffect(container);
            isProcessing = false;
            // 继续处理队列中的下一张图片
            setTimeout(processPreloadQueue, 10);
          });
        } else {
          isProcessing = false;
          // 继续处理队列中的下一张图片
          setTimeout(processPreloadQueue, 10);
        }
      }
      
      // 处理所有图片
      function handleImages() {
        // 选择所有懒加载图片，但排除favicon
        const lazyImages = document.querySelectorAll('.lazy-image');
        const allImages = document.querySelectorAll('img');
        

        
        // 如果没有懒加载图片，检查是否有需要处理的图片
        if (lazyImages.length === 0) {
          allImages.forEach(img => {
            // 排除favicon.png
            if (img.src && !img.src.includes('favicon.png') && !img.src.includes('github.png') && !img.src.includes('mail.png') && !img.src.includes('rss-fill.png') && !img.src.includes('Telegram.png') &&
                img.dataset.src && !img.classList.contains('lazy-image')) {
              // 如果有data-src属性，说明是懒加载图片
              img.classList.add('lazy-image');
              
              // 添加loading效果
              const container = createLoadingEffect(img);
              
              // 立即加载图片
              img.src = img.dataset.src;
              
              // 图片加载完成后的处理
              img.addEventListener('load', function() {
                img.classList.add('loaded');
                removeLoadingEffect(container);
              });
              
              img.addEventListener('error', function() {
                removeLoadingEffect(container);
              });
            }
          });
          return;
        }
        
        // 使用Intersection Observer处理懒加载图片
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              
              // 检查是否有data-src属性
              if (img.dataset.src && !processedImages.has(img)) {
                // 将图片添加到预加载队列
                preloadQueue.push(img);
                processPreloadQueue();
              } else if (!img.dataset.src) {
                // 如果没有data-src，直接显示图片
                img.classList.add('loaded');
              }
              
              // 停止观察这个图片
              observer.unobserve(img);
            }
          });
        }, {
          rootMargin: '400px 0px', // 提前400px开始加载，大幅提升加载速度
          threshold: 0.001 // 降低阈值，图片刚进入视口就开始加载
        });
        
        // 开始观察所有懒加载图片
        lazyImages.forEach(img => {
          // 排除favicon.png
          if (!img.src.includes('favicon.png') && !img.src.includes('github.png') && !img.src.includes('mail.png') && !img.src.includes('rss-fill.png') && !img.src.includes('Telegram.png')) {
            imageObserver.observe(img);
          }
        });
      }
      
      // 立即执行一次
      handleImages();
      
      // 减少延迟时间，提升响应速度
      setTimeout(handleImages, 20);
    });
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="子规入梧桐" type="application/atom+xml">
</head>

    <body class="is-post">
        <div class="paper">
            <div class="paper-main">
                <div class="header">
    <div class="header-nav-buttons">
        
            
            <a href="/" class="header-nav-btn " title="主页">
               <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </a>
        
            
            <a href="/archives" class="header-nav-btn " title="归档">
               <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16V8C20.9996 7.64927 20.9071 7.30481 20.7315 7.00116C20.556 6.69751 20.3037 6.44536 20 6.27L13 2.27C12.696 2.09446 12.3511 2.00205 12 2.00205C11.6489 2.00205 11.304 2.09446 11 2.27L4 6.27C3.69626 6.44536 3.44398 6.69751 3.26846 7.00116C3.09294 7.30481 3.00036 7.64927 3 8V16C3.00036 16.3507 3.09294 16.6952 3.26846 16.9988C3.44398 17.3025 3.69626 17.5546 4 17.73L11 21.73C11.304 21.9055 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9055 13 21.73L20 17.73C20.3037 17.5546 20.556 17.3025 20.7315 16.9988C20.9071 16.6952 20.9996 16.3507 21 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </a>
        
            
            <a href="/about" class="header-nav-btn " title="关于">
               <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </a>
        
            
            <a href="/use" class="header-nav-btn " title="设备">
               <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M8 21H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 17V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </a>
        
            
            <a href="https://uhufoundme.sol.build/" class="header-nav-btn " title="碎碎念" target="&quot;_blank&quot;" rel="&quot;noopener" noreferrer&#34;="">
               <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 7H7V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7 17V15H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17 7H15V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 17H17V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </a>
        
    </div>
</div>

                <div class="post-main">
    <!-- 阅读进度条 -->
    <div class="reading-progress-bar" id="readingProgressBar"></div>
    
    
        <div class="post-main-title">
            晋城游记
        </div>
        <div class="post-meta">
            <div class="post-meta-left">
                2025年08月31日 ｜ 
                
                    <a href="/tags/%E6%B8%B8%E8%AE%B0/" class="tag-link"># 游记</a>
                
                    <a href="/tags/%E9%83%91%E5%B7%9E/" class="tag-link"># 郑州</a>
                
            </div>
            <div class="post-meta-right">
                <span class="post-stats-minimal" id="postStats">
                    <span class="stat-value-minimal" id="wordCount" title="字数统计">-</span>
                    <span class="stat-separator-minimal">·</span>
                    <span class="stat-value-minimal" id="readingTime" title="预计阅读时长">-</span>
                </span>
            </div>
        </div>

        <div class="post-content-wrapper">
            <div class="post-content-main">
                <div class="post-md">
                    <blockquote>
<p>该篇游记仅记录玉皇庙、关帝庙、晋城博物馆以及原本博物馆相关内容，偏向历史爱好者。</p>
</blockquote>
<p>起因是 Amelia 在小红书上看到，郑州去山西晋城的大巴来回免费，且 2.5~3 小时就能到。所以我们就打算当天去，当天回。</p>
<h2 id="买票和预约"><a href="#买票和预约" class="headerlink" title="买票和预约"></a>买票和预约</h2><p>车票可以直接在微信公众号上买，郑州去晋城在<strong>豫州行</strong>微信公众号上买，晋城回郑州则在<strong>大美太行晋城游</strong>。郑州有多个客运站都可以到晋城，如果家附近的客运站没票，可以切换别的客运站试试。同理，晋城到郑州也是分多个客运站，可以多看看。除此之外，还要算好行程，预约景点门票。我们计划去玉皇庙，关帝庙，晋城博物馆，原本博物馆。这几个景点都可以通过<strong>晋城市文化保护研究中心网上预约</strong>微信公众号进行预约。</p>
<p>上述所有车票，门票均免费。</p>
<h2 id="行程游记"><a href="#行程游记" class="headerlink" title="行程游记"></a>行程游记</h2><p></p><div class="image-container loading"><img src="/img/IMG_4594.webp" alt="星宿之城——晋城" data-src="/img/IMG_4594.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>为了更好的游玩体验，我们决定尽早出发。所以购买了较早的车票。5 点半从家里出发，6 点 20 分的车，8 点 40 分到，可以在车上补觉。尽量轻装上阵，带个小包也可。如果想买特产，最好带双肩包。<strong>一定一定要记住带身份证。</strong></p>
<p>第一站，建议直接去玉皇庙，因为在门口领通关文牒，方便后续盖章。我们在后续的晋城博物馆看到好几拨人去前台问通关文牒在哪领。</p>
<blockquote>
<p> <strong>府城玉皇庙</strong>位于中国<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%B1%B1%E8%A5%BF%E7%9C%81" title="山西省">山西省</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%99%8B%E5%9F%8E%E5%B8%82" title="晋城市">晋城市</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%B3%BD%E5%B7%9E%E5%8E%BF" title="泽州县">泽州县</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%87%91%E6%9D%91%E9%95%87" title="金村镇">金村镇</a>府城村，1988年被列为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E4%B8%89%E6%89%B9%E5%85%A8%E5%9B%BD%E9%87%8D%E7%82%B9%E6%96%87%E7%89%A9%E4%BF%9D%E6%8A%A4%E5%8D%95%E4%BD%8D" title="第三批全国重点文物保护单位">第三批全国重点文物保护单位</a>。</p>
<p>府城玉皇庙始建年代不详，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9A%8B%E6%9C%9D" title="隋朝">隋朝</a>时有祭拜<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%89%E6%B8%85" title="三清">三清</a>的殿宇，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8C%97%E5%AE%8B" title="北宋">北宋</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%86%99%E5%AE%81" title="熙宁">熙宁</a>九年（1076年）扩建成玉皇庙，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%87%91%E6%9C%9D" title="金朝">金</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%B3%B0%E5%92%8C_(%E9%87%91)" title="泰和 (金)">泰和</a>七年（1207年）重修，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B4%9E%E7%A5%90" title="贞祐">贞祐</a>年间部分被毁，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%83%E6%9C%9D" title="元朝">元</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%87%B3%E5%85%83_(%E5%85%83%E9%A1%BA%E5%B8%9D)" title="至元 (元顺帝)">至元</a>元年（1335年）重建。庙坐北朝南，占地4000余平方米。主要建筑有山门、仪门、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%88%90%E6%B1%A4" title="成汤">成汤</a>殿、献亭、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%8E%89%E7%9A%87" title="玉皇">玉皇</a>殿、东西配殿、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8D%81%E5%85%AB%E5%AE%BF" title="二十八宿">二十八宿</a>殿、十二辰殿、十三曜星殿、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%B3%E5%B8%9D" title="关帝">关帝</a>殿、蚕神殿等，其中玉皇殿为北宋遗构，成汤殿建于金，余为元<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%98%8E" title="明">明</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%B8%85" title="清">清</a>建筑。成汤殿面阔三间，进深三间，单檐<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%82%AC%E5%B1%B1%E9%A1%B6" title="悬山顶">悬山顶</a>。玉皇殿面阔进深各三间，单檐悬山顶。各殿内有宋元明塑像三百余尊。</p>
<p>——以上摘自维基百科</p>
</blockquote>
<p></p><div class="image-container loading"><img src="/img/IMG_4788.webp" alt="玉皇庙" data-src="/img/IMG_4788.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>可以去十一耀星殿找找自己的守护星座，拍照，挺有意思的。《黑神话 · 悟空》里面的亢金星君和小猪就是取自十一耀星殿的亢金龙和室火猪，值得一看。</p>
<p></p><div class="image-container loading"><img src="/img/IMG_4808.webp" alt="十一耀星殿" data-src="/img/IMG_4808.webp" loading="lazy" class="lazy-image"></div><p></p>
<p></p><div class="image-container loading"><img src="/img/IMG_4790.webp" alt="我的守护星座" data-src="/img/IMG_4790.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>玉皇庙里面三只小猫，一黑一白一橘。有灵性，不惧人。</p>
<p>第二站，关帝庙，从玉皇庙步行 10 分钟就可以到达。关帝庙和玉皇庙大多相似。又不尽相同。步入大门，停留一会，便可以感受身后缕缕穿堂风，头顶钟声随风飘荡。在这刻才能感受到自己不是城市中两点一线的牛马。</p>
<p></p><div class="image-container loading"><img src="/img/%E6%9F%B1%E5%AD%90.webp" alt="柱子" data-src="/img/%E6%9F%B1%E5%AD%90.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>中午本地美食，老三样。十小碗应该是首选，但是需要提前排队，要提前饭点1 个小时以上排队。我们 11 点半到的十小碗，被告知要排队 1 个半小时以上，并且不接受排队预约了。索性我们就直接去老三样。<br></p><div class="image-container loading"><img src="/img/IMG_4815.webp" alt="老三样" data-src="/img/IMG_4815.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>第三站，晋城博物馆。下午天气热，博物馆里面有空调，随意逛逛也比较舒服。</p>
<p></p><div class="image-container loading"><img src="/img/IMG_4810.webp" alt="晋城博物馆——古代建筑艺术" data-src="/img/IMG_4810.webp" loading="lazy" class="lazy-image"></div><p></p>
<p></p><div class="image-container loading"><img src="/img/IMG_4809.webp" alt="墙砖" data-src="/img/IMG_4809.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>第四站，原本博物馆，是一个私人的民办博物馆，需提前预约，基本上没人，馆藏丰富，可以感受一下</p>
<p></p><div class="image-container loading"><img src="/img/IMG_4811.webp" alt="原本博物馆" data-src="/img/IMG_4811.webp" loading="lazy" class="lazy-image"></div><p></p>
<p></p><div class="image-container loading"><img src="/img/IMG_4807.webp" alt="馆内收藏" data-src="/img/IMG_4807.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>第五站，兰花城超市。从原本博物馆出来才下午 3 点半左右，时间还算比较充裕。其他景区离市区较远，我们打算去逛逛市区的兰花城超市买点特产带回去。</p>
<p>晚上本地美食，丁老大牛肉丸，强烈推荐，牛肉超级多。这个是在郑州吃不到，或者说吃不到这么实惠的。其实我更喜欢去一些小县城旅游，因为小县城里没有大城市的浮躁</p>
<p></p><div class="image-container loading"><img src="/img/IMG_4794.webp" alt="牛肉丸" data-src="/img/IMG_4794.webp" loading="lazy" class="lazy-image"></div><p></p>
<p>晚上 6 点 50 分的回程，9 点多到郑州。</p>
<h2 id="有感"><a href="#有感" class="headerlink" title="有感"></a>有感</h2><p>晋城算是山西文旅给想要感受山西文化的河南人的第一站。玉皇庙，关帝庙地势高，逛的时候有种天朗气清的感觉。空气好，可以作为逃离都市的一个好去处。晋城还有其他景点，一天时间肯定是逛不完。单单对于我和 Amelia 这种历史爱好者来说，除了上述几个景点，还有皇城相府，郭峪古城，湘峪古城没有参观。如果想欣赏自然风光，可以爬青莲寺，以及徒步王莽岭景区等。如果喜欢现代生活气息，白马寺山森林公园，晋城大剧院都是值得一看的地方。</p>
<p>晋城算是我去过为数不多的体感舒服的城市，整体城市界面干净整洁，交通便捷。市内打车相对便宜，近距离通行也有共享电动车（市区各处都有共享电动车这点对旅游非常友好）。温度适宜，气候舒适，适合养老疗养。美食也有晋城特色，值得尝试。晋城肯定会再次二刷，再来感受一下其他风景。</p>

                </div>
            </div>
            <div class="post-content-sidebar">
                
                <div class="post-toc" id="postToc">
                    <div class="toc-header">
                        <div class="toc-title">目录</div>
                    </div>
                    <div class="toc-content"></div>
                </div>
            </div>
        </div>
    

<!-- 只在文章页面显示分类和导航 -->

    <!-- 分类信息和分享按钮 -->
    
        <div class="post-categories-with-share">
            <div class="post-categories">
                分类：
                
                    <a href="/categories/%E7%94%9F%E6%B4%BB/"> / 生活</a>
                
            </div>
            <div class="post-action-buttons">
                <button class="comment-toggle-btn" id="commentToggleBtn" title="显示/隐藏评论">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
                <button class="share-icon-btn" id="shareBtn" title="点击分享这篇文章">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
                
            </div>
        </div>
    

   

    <!-- 评论抽屉容器（抽屉动画区域） -->
    <div id="commentsDrawer" class="comments-drawer" aria-hidden="true">
        <!-- 评论区域 -->
        <div class="comments-section" id="commentsSection">
            
<div class="giscus-container">
    <script src="https://giscus.app/client.js" data-repo="z1gui/blog" data-repo-id="R_kgDOOezL6g" data-category="Announcements" data-category-id="DIC_kwDOOezL6s4CvusN" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="noborder_gray" data-lang="zh-CN" crossorigin="anonymous" async="">
    </script>
</div>


        </div>
    </div>

    <!-- 下一篇推荐 -->
    
    <div class="next-post-recommendation">
        <div class="next-post-label">接下来阅读</div>
        <div class="next-post-content">
            <a href="/6885322357796359/" class="next-post-title">Planet配置Web3域名</a>
            <a href="/6885322357796359/" class="next-post-excerpt">
                
                Planet 项目是 V 站站长 Livid 很早之前启动的项目。最近 V 站也出了 $V2EX 币， Livid 也一直在推动区块链和 Web3 在 V 站的快速应用。跟着这个趋势，我也学习了很多这方面的知识。  Planet 是一款免费的开源 macOS 应用程序，用于发布和关注 Web 内容。它不依赖于中央服务器或服务，而是使用 IPFS 进行点对点内容分发。您可以将您的内容链接到以太坊名称（例如，planetable.eth），以便其他人可以使用您的 .eth 名称在 Planet 上关注您，或通过 eth.limo 或 eth.sucks 等网关访问您的 ENS 网站。由于 IPFS...
            </a>
        </div>
    </div>
    


</div>

<!-- 图片全屏显示模态框 -->
<div class="image-modal" id="imageModal">
    <img id="modalImage" src="" alt="全屏图片">
</div>

<!-- 分享成功弹出通知 -->
<div class="share-notification" id="shareNotification">
    <div class="share-notification-content">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        <span>链接已复制到剪贴板</span>
    </div>
</div>

<!-- 代码全屏显示模态框 -->
<div class="code-modal" id="codeModal">
    <div class="code-modal-content">
        <div class="code-modal-header">
            <div class="code-modal-title">代码查看</div>
            <div class="code-modal-close" id="codeModalClose">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
        <div class="code-modal-code">
            <pre><code id="modalCode"></code></pre>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const postImages = document.querySelectorAll('.post-md img');

    // 为图片添加说明文字（优先 data-caption，其次 alt，最后 title）
    // 只在文章页面显示图片标注，设备页面不显示
    if (document.body.classList.contains('is-post')) {
    postImages.forEach(img => {
        // 跳过社交链接中的图标
        const isSocialIcon = img.closest('.social-links') !== null;
        if (isSocialIcon) return;

        // 已有说明则不重复添加（检测紧邻的说明节点）
        const container = img.closest('.image-container');
        const link = img.closest('a');
        const injector = link || container || img;
        const nextEl = injector.nextElementSibling;
        if (nextEl && nextEl.classList && nextEl.classList.contains('image-caption')) return;

        const captionText = (img.getAttribute('data-caption') || img.getAttribute('alt') || img.getAttribute('title') || '').trim();
        if (!captionText) return;

        const captionEl = document.createElement('div');
        captionEl.className = 'image-caption';
        captionEl.textContent = captionText;

        injector.insertAdjacentElement('afterend', captionEl);
    });
    }

    // 点击图片打开模态框
    postImages.forEach(img => {
        // 检查图片是否在社交链接中
        const isSocialIcon = img.closest('.social-links') !== null;
        if (!isSocialIcon) {
            img.addEventListener('click', function() {
                modal.classList.add('active');
                
                // 获取原始图片路径（将WebP转换回原始格式）
                let originalSrc = this.src || this.dataset.src;
                
                // 如果是WebP格式，转换为原始格式
                if (originalSrc && originalSrc.includes('.webp')) {
                    // 尝试多种原始格式
                    const possibleFormats = ['.png', '.jpg', '.jpeg'];
                    let foundOriginal = false;
                    
                    for (let format of possibleFormats) {
                        const testSrc = originalSrc.replace('.webp', format);
                        // 这里可以添加预检查逻辑，但为了简化，我们直接尝试加载
                        if (!foundOriginal) {
                            originalSrc = testSrc;
                            foundOriginal = true;
                        }
                    }
                    
                    // 如果都没有找到，使用默认的.jpg格式
                    if (!foundOriginal) {
                        originalSrc = originalSrc.replace('.webp', '.jpg');
                    }
                }
                
                modalImg.src = originalSrc;
                document.body.style.overflow = 'hidden'; // 防止背景滚动
                
                // 添加加载状态
                modalImg.onload = function() {
                    console.log('原始图片加载完成:', originalSrc);
                };
                
                modalImg.onerror = function() {
                    console.log('原始图片加载失败，尝试其他格式');
                    // 尝试其他可能的原始格式
                    const webpSrc = this.src || this.dataset.src;
                    if (webpSrc && webpSrc.includes('.webp')) {
                        const formats = ['.png', '.jpeg', '.jpg'];
                        let currentFormatIndex = 0;
                        
                        const tryNextFormat = () => {
                            if (currentFormatIndex < formats.length) {
                                const testSrc = webpSrc.replace('.webp', formats[currentFormatIndex]);
                                modalImg.src = testSrc;
                                currentFormatIndex++;
                            } else {
                                console.log('所有原始格式都失败，使用WebP版本');
                                modalImg.src = webpSrc;
                            }
                        };
                        
                        // 重新绑定错误处理
                        modalImg.onerror = tryNextFormat;
                        tryNextFormat();
                    } else {
                        modalImg.src = webpSrc;
                    }
                }.bind(this);
            });
        }
    });

    // 点击模态框关闭
    modal.addEventListener('click', function() {
        modal.classList.remove('active');
        document.body.style.overflow = ''; // 恢复背景滚动
    });

    // 按 ESC 键关闭模态框
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
    });

    // 阅读进度条功能
    const progressBar = document.getElementById('readingProgressBar');
    if (progressBar) {
        function updateReadingProgress() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            
            // 限制进度条宽度在0-100%之间
            const progressWidth = Math.min(Math.max(scrollPercent, 0), 100);
            progressBar.style.width = progressWidth + '%';
        }

        // 监听滚动事件
        window.addEventListener('scroll', updateReadingProgress);
        
        // 页面加载时初始化进度条
        updateReadingProgress();
    }

    



    // 返回顶部功能
    const backToTopBtn = document.getElementById('backToTopBtn');
    if (backToTopBtn) {
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }

    // 代码块全屏功能
    const codeModal = document.getElementById('codeModal');
    const modalCode = document.getElementById('modalCode');
    const codeModalClose = document.getElementById('codeModalClose');

    // 为所有代码块添加全屏按钮
    const codeBlocks = document.querySelectorAll('.post-md pre');
    codeBlocks.forEach(pre => {
        // 检查是否已经有按钮（避免重复添加）
        if (!pre.querySelector('.code-fullscreen-btn')) {
            const fullscreenBtn = document.createElement('div');
            fullscreenBtn.className = 'code-fullscreen-btn';
            fullscreenBtn.innerHTML = `
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            `;
            fullscreenBtn.title = '全屏查看代码';
            
            // 点击按钮显示全屏代码
            fullscreenBtn.addEventListener('click', function() {
                const codeElement = pre.querySelector('code');
                if (codeElement) {
                    // 检查是否是已经应用了行号的代码块
                    const hljsTable = pre.querySelector('table.hljs-ln');
                    
                    let codeContent;
                    let startLineNumber = 1;
                    
                    if (hljsTable) {
                        // 如果有行号表格，提取纯代码内容和起始行号
                        const codeLines = hljsTable.querySelectorAll('.hljs-ln-code');
                        codeContent = Array.from(codeLines).map(line => {
                            // 提取每行的文本内容，保持原始格式
                            return line.textContent || line.innerText || ' ';
                        }).join('\n');
                        
                        // 获取起始行号
                        const firstNumberCell = hljsTable.querySelector('.hljs-ln-numbers');
                        if (firstNumberCell) {
                            const lineAttr = firstNumberCell.getAttribute('data-line-number');
                            if (lineAttr) {
                                startLineNumber = parseInt(lineAttr) || 1;
                            }
                        }
                    } else {
                        // 普通代码块，直接获取文本内容
                        codeContent = codeElement.textContent || codeElement.innerText;
                    }
                    
                    const codeLanguage = getCodeLanguage(codeElement);
                    
                    // 设置模态框中的代码内容
                    modalCode.textContent = codeContent;
                    modalCode.className = codeElement.className; // 保持代码高亮的类名
                    
                    // 如果原代码有自定义起始行号，设置data属性
                    if (startLineNumber !== 1) {
                        modalCode.setAttribute('data-ln-start-from', startLineNumber);
                    } else {
                        modalCode.removeAttribute('data-ln-start-from');
                    }
                    
                    // 更新标题
                    const modalTitle = document.querySelector('.code-modal-title');
                    if (codeLanguage) {
                        modalTitle.textContent = `代码查看 - ${codeLanguage}`;
                    } else {
                        modalTitle.textContent = '代码查看';
                    }
                    
                    // 显示模态框
                    codeModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    
                    // 重新应用代码高亮和行号
                    if (typeof hljs !== 'undefined') {
                        hljs.highlightElement(modalCode);
                        
                        // 应用行号
                        if (typeof hljs.lineNumbersBlock !== 'undefined') {
                            hljs.lineNumbersBlock(modalCode, {
                                startFrom: startLineNumber
                            });
                        }
                    }
                }
            });
            
            pre.appendChild(fullscreenBtn);
        }
    });

    // 获取代码语言
    function getCodeLanguage(codeElement) {
        const className = codeElement.className;
        const languageMatch = className.match(/language-(\w+)|hljs-(\w+)|\b(\w+)$/);
        if (languageMatch) {
            return languageMatch[1] || languageMatch[2] || languageMatch[3];
        }
        return '';
    }

    // 关闭代码全屏模态框
    function closeCodeModal() {
        codeModal.classList.remove('active');
        document.body.style.overflow = '';
    }

    // 点击关闭按钮
    if (codeModalClose) {
        codeModalClose.addEventListener('click', closeCodeModal);
    }

    // 点击模态框背景关闭（点击内容区域不关闭）
    codeModal.addEventListener('click', function(e) {
        if (e.target === codeModal) {
            closeCodeModal();
        }
    });

    // 按 ESC 键关闭代码模态框
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            if (codeModal.classList.contains('active')) {
                closeCodeModal();
            }
        }
    });

    // 分享功能
    const shareBtn = document.getElementById('shareBtn');
    if (shareBtn) {
        shareBtn.addEventListener('click', function() {
            // 获取文章信息
            const title = document.querySelector('.post-main-title')?.textContent?.trim() || '未知标题';
            const date = document.querySelector('.post-meta')?.textContent?.match(/\d{4}-\d{2}-\d{2}/)?.[0] || '';
            const url = window.location.href;
            
            // 获取文章前几行内容（排除标题、元信息等）
            const postContent = document.querySelector('.post-md');
            let content = '';
            if (postContent) {
                // 获取所有段落和文本内容
                const paragraphs = postContent.querySelectorAll('p, h1, h2, h3, h4, h5, h6');
                const contentArray = [];
                
                for (let i = 0; i < Math.min(paragraphs.length, 3); i++) {
                    const text = paragraphs[i].textContent?.trim();
                    if (text && text.length > 0) {
                        contentArray.push(text);
                    }
                }
                
                content = contentArray.join('\n\n');
                
                // 如果内容太长，截取前100个字符
                if (content.length > 100) {
                    content = content.substring(0, 100) + '...';
                }
            }
            
            // 构建分享内容
            let shareText = `文章标题： ${title}`;
            if (date) {
                shareText += `\n发布时间： ${date}`;
            }
            if (content) {
                shareText += `\n\n${content}`;
            }
            shareText += `\n\n🔗 ${url}`;
            
            // 复制到剪贴板
            if (navigator.clipboard && window.isSecureContext) {
                // 使用现代 Clipboard API
                navigator.clipboard.writeText(shareText).then(function() {
                    showShareSuccess();
                }).catch(function(err) {
                    console.error('复制失败:', err);
                    fallbackCopyTextToClipboard(shareText);
                });
            } else {
                // 降级方案
                fallbackCopyTextToClipboard(shareText);
            }
        });
    }
    
    // 显示分享成功提示
    function showShareSuccess() {
        const notification = document.getElementById('shareNotification');
        if (notification) {
            notification.classList.add('show');
            
            // 3秒后自动隐藏
            setTimeout(function() {
                notification.classList.remove('show');
            }, 3000);
        }
    }
    
    // 降级复制方案
    function fallbackCopyTextToClipboard(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.top = '0';
        textArea.style.left = '0';
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showShareSuccess();
            } else {
                alert('复制失败，请手动复制以下内容：\n\n' + text);
            }
        } catch (err) {
            console.error('复制失败:', err);
            alert('复制失败，请手动复制以下内容：\n\n' + text);
        }
        
        document.body.removeChild(textArea);
    }
    
    // 字数统计和阅读时长计算
    function calculatePostStats() {
        const postContent = document.querySelector('.post-md');
        if (!postContent) return;
        
        // 获取纯文本内容
        let textContent = postContent.textContent || postContent.innerText || '';
        
        // 移除多余的空白字符
        textContent = textContent.replace(/\s+/g, ' ').trim();
        
        // 计算中文字符数（包括中文标点）
        const chineseChars = textContent.match(/[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff]/g);
        const chineseCount = chineseChars ? chineseChars.length : 0;
        
        // 计算英文单词数
        const englishWords = textContent.match(/[a-zA-Z]+/g);
        const englishWordCount = englishWords ? englishWords.length : 0;
        
        // 计算数字
        const numbers = textContent.match(/\d+/g);
        const numberCount = numbers ? numbers.length : 0;
        
        // 总字数 = 中文字符数 + 英文单词数 + 数字个数
        const totalWords = chineseCount + englishWordCount + numberCount;
        
        // 更新字数显示
        const wordCountElement = document.getElementById('wordCount');
        if (wordCountElement) {
            wordCountElement.textContent = `${totalWords.toLocaleString()} 字`;
            // 更新title属性显示详细信息
            wordCountElement.title = `字数统计：${totalWords.toLocaleString()} 字\n中文字符：${chineseCount}\n英文单词：${englishWordCount}\n数字：${numberCount}`;
        }
        
        // 计算阅读时长（中文按300字/分钟，英文按200词/分钟计算）
        const chineseReadingTime = Math.ceil(chineseCount / 300);
        const englishReadingTime = Math.ceil(englishWordCount / 200);
        const totalReadingTime = Math.max(chineseReadingTime, englishReadingTime, 1); // 至少1分钟
        
        // 更新阅读时长显示
        const readingTimeElement = document.getElementById('readingTime');
        if (readingTimeElement) {
            let displayText = '';
            if (totalReadingTime < 60) {
                displayText = `${totalReadingTime} 分钟`;
            } else {
                const hours = Math.floor(totalReadingTime / 60);
                const minutes = totalReadingTime % 60;
                if (minutes === 0) {
                    displayText = `${hours} 小时`;
                } else {
                    displayText = `${hours} 小时 ${minutes} 分钟`;
                }
            }
            readingTimeElement.textContent = displayText;
            // 更新title属性显示详细信息
            readingTimeElement.title = `预计阅读时长：${displayText}\n基于中文300字/分钟，英文200词/分钟计算`;
        }
        
        // 添加详细统计信息（可选，用于调试）
        console.log('文章统计:', {
            中文字符: chineseCount,
            英文单词: englishWordCount,
            数字个数: numberCount,
            总字数: totalWords,
            预计阅读时长: totalReadingTime + ' 分钟'
        });
    }
    
    // 页面加载完成后计算统计信息
    calculatePostStats();
    
    // 评论区域显示/隐藏功能（顶部按钮仍可用）
    const commentToggleBtn = document.getElementById('commentToggleBtn');
    const commentsSection = document.getElementById('commentsSection');
    const commentsDrawer = document.getElementById('commentsDrawer');
    const commentsToggleBar = document.getElementById('commentsToggleBar');
    
    function openComments() {
        if (commentsDrawer) {
            commentsDrawer.classList.add('open');
            commentsDrawer.setAttribute('aria-hidden', 'false');
        }
        if (commentsToggleBar) {
            commentsToggleBar.setAttribute('aria-expanded', 'true');
            commentsToggleBar.textContent = '隐藏评论';
        }
        if (commentToggleBtn) {
            commentToggleBtn.setAttribute('title', '隐藏评论');
            commentToggleBtn.style.background = 'var(--font-color-0, #ff4444)';
            commentToggleBtn.style.borderColor = 'var(--font-color-0, #ff4444)';
            commentToggleBtn.style.color = 'white';
        }
    }
    
    function closeComments() {
        if (commentsDrawer) {
            commentsDrawer.classList.remove('open');
            commentsDrawer.setAttribute('aria-hidden', 'true');
        }
        if (commentsToggleBar) {
            commentsToggleBar.setAttribute('aria-expanded', 'false');
            commentsToggleBar.textContent = '显示评论';
        }
        if (commentToggleBtn) {
            commentToggleBtn.setAttribute('title', '显示评论');
            commentToggleBtn.style.background = '';
            commentToggleBtn.style.borderColor = '';
            commentToggleBtn.style.color = '';
        }
    }

    if (commentsDrawer && commentsToggleBar) {
        closeComments(); // 默认关闭抽屉
        commentsToggleBar.addEventListener('click', function() {
            if (commentsDrawer.classList.contains('open')) {
                closeComments();
            } else {
                openComments();
            }
        });
    }

    if (commentToggleBtn && commentsDrawer) {
        commentToggleBtn.addEventListener('click', function() {
            if (commentsDrawer.classList.contains('open')) {
                closeComments();
            } else {
                openComments();
            }
        });
    }
});
</script>

                
            </div>
        </div>

        <!-- JavaScript -->
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const html = document.documentElement;
            const header = document.querySelector('.header');
        
            function handleHeaderClick() {
                if (!header) return;

                // 在非文章页时不执行隐藏操作
                if (!document.body.classList.contains('is-post')) {
                    // 非文章页保持显示，不进行切换
                    return;
                }

                // 点击头部时，切换头部显示/隐藏
                if (header.classList.contains('hidden')) {
                    // 当前已隐藏，显示
                    header.classList.remove('hidden');
                } else {
                    // 当前已显示，隐藏
                    header.classList.add('hidden');
                }
            }
            
            // 监听事件
            if(header){
                header.addEventListener('click', handleHeaderClick);
            }
            
            
            // 页面加载时的头部初始状态
            if (document.body.classList.contains('is-post')) {
                    // 文章页：初始隐藏
                    header.classList.add('hidden');
            }else{
                // 非文章页：初始显示
                header.classList.remove('hidden');

            }
            
            

            // 设备页面 3D 轮播初始化
            if (document.body.classList.contains('is-use')) {
                const container = document.querySelector('.paper-main');
                if (container) {
                    const deviceCards = Array.from(container.querySelectorAll('.device-card'));
                    if (deviceCards.length > 0) {
                        const carousel = document.createElement('div');
                        carousel.className = 'device-carousel';
                        const track = document.createElement('div');
                        track.className = 'device-carousel-track';

                        // 先把轮播插入到第一个卡片的父级中，位于首个卡片之前
                        const firstCard = deviceCards[0];
                        const parentNode = firstCard.parentNode;
                        if (parentNode) {
                            parentNode.insertBefore(carousel, firstCard);
                        }

                        deviceCards.forEach((card) => {
                            const slide = document.createElement('div');
                            slide.className = 'device-slide';
                            slide.appendChild(card);
                            track.appendChild(slide);
                        });

                        const nav = document.createElement('div');
                        nav.className = 'device-carousel-nav';
                        const prevBtn = document.createElement('button');
                        prevBtn.className = 'device-carousel-btn device-prev';
                        prevBtn.setAttribute('aria-label', '上一项');
                        prevBtn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
                        const nextBtn = document.createElement('button');
                        nextBtn.className = 'device-carousel-btn device-next';
                        nextBtn.setAttribute('aria-label', '下一项');
                        nextBtn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
                        nav.appendChild(prevBtn);
                        nav.appendChild(nextBtn);

                        const pagination = document.createElement('div');
                        pagination.className = 'device-carousel-pagination';
                        const dots = deviceCards.map(() => {
                            const dot = document.createElement('div');
                            dot.className = 'device-dot';
                            pagination.appendChild(dot);
                            return dot;
                        });

                        const controls = document.createElement('div');
                        controls.className = 'device-carousel-controls';
                        
                        const leftNav = document.createElement('div');
                        leftNav.className = 'device-carousel-nav';
                        leftNav.appendChild(prevBtn);
                        
                        const rightNav = document.createElement('div');
                        rightNav.className = 'device-carousel-nav';
                        rightNav.appendChild(nextBtn);
                        
                        controls.appendChild(leftNav);
                        controls.appendChild(pagination);
                        controls.appendChild(rightNav);

                        carousel.appendChild(track);
                        carousel.appendChild(controls);

                        let current = 0;
                        const total = deviceCards.length;

                        function layout() {
                            const slides = Array.from(track.children);
                            slides.forEach((slide, i) => {
                                const offset = ((i - current + total) % total);
                                let translateX = 0;
                                let translateZ = 0;
                                let rotateY = 0;
                                let zIndex = 0;
                                // 仅显示当前与两侧相邻，共3项
                                if (offset === 0) {
                                    translateX = -50;
                                    translateZ = 120;
                                    rotateY = 0;
                                    zIndex = 3;
                                    slide.classList.add('active');
                                    slide.classList.remove('hidden');
                                    slide.classList.remove('side');
                                } else if (offset === 1) {
                                    translateX = 20;
                                    translateZ = 0;
                                    rotateY = -20;
                                    zIndex = 2;
                                    slide.classList.remove('active');
                                    slide.classList.remove('hidden');
                                    slide.classList.add('side');
                                } else if (offset === total - 1) {
                                    translateX = -120;
                                    translateZ = 0;
                                    rotateY = 20;
                                    zIndex = 2;
                                    slide.classList.remove('active');
                                    slide.classList.remove('hidden');
                                    slide.classList.add('side');
                                } else {
                                    translateX = (offset < total / 2 ? 160 : -240);
                                    translateZ = -120;
                                    rotateY = offset < total / 2 ? -30 : 30;
                                    zIndex = 1;
                                    slide.classList.remove('active');
                                    slide.classList.add('hidden');
                                    slide.classList.remove('side');
                                }
                                slide.style.zIndex = zIndex.toString();
                                slide.style.transform = `translate3d(${translateX}%, 0, ${translateZ}px) rotateY(${rotateY}deg)`;
                            });
                            dots.forEach((dot, i) => { dot.classList.toggle('active', i === current); });
                        }

                        function go(delta) { current = (current + delta + total) % total; layout(); }

                        prevBtn.addEventListener('click', () => go(-1));
                        nextBtn.addEventListener('click', () => go(1));
                        dots.forEach((dot, i) => dot.addEventListener('click', () => { current = i; layout(); }));

                        carousel.setAttribute('tabindex', '0');
                        carousel.addEventListener('keydown', (e) => { if (e.key === 'ArrowLeft') go(-1); if (e.key === 'ArrowRight') go(1); });
                        let startX = 0;
                        carousel.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; }, { passive: true });
                        carousel.addEventListener('touchend', (e) => {
                            const dx = e.changedTouches[0].clientX - startX;
                            if (dx > 40) go(-1);
                            if (dx < -40) go(1);
                        }, { passive: true });

                        layout();

                        // 点击左右侧卡片切换
                        track.addEventListener('click', (e) => {
                            const slides = Array.from(track.children);
                            const clickedSlide = e.target.closest('.device-slide');
                            if (!clickedSlide) return;
                            const index = slides.indexOf(clickedSlide);
                            if (index === -1) return;
                            const offset = ((index - current + total) % total);
                            if (offset === 1) go(1);
                            if (offset === total - 1) go(-1);
                        });

                        // 禁用非激活卡片的图片点击放大
                        track.addEventListener('click', (e) => {
                            if (e.target.tagName === 'IMG') {
                                const slide = e.target.closest('.device-slide');
                                if (!slide || !slide.classList.contains('active')) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                }
                            }
                        });
                    }
                }
            }
        });
        </script>
        
        <!-- 异步加载代码高亮 -->
        
        <script async="" src="/js/highlight.min.js"></script>
        <script async="" src="/js/highlightjs-line-numbers.js"></script>
        <script>
        // 等待代码高亮库加载完成后初始化
        function initHighlight() {
            if (typeof hljs !== 'undefined') {
                hljs.highlightAll();
                hljs.initLineNumbersOnLoad();
            } else {
                setTimeout(initHighlight, 100);
            }
        }
        document.addEventListener('DOMContentLoaded', initHighlight);
        </script>
        
        

        <!-- 异步加载目录功能 -->
        <script async="" src="/js/toc.js"></script>
    
</body></html>